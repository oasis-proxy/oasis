# 交互功能

Oasis 旨在提供高度易用性，支持在不中断标准浏览工作流的情况下管理网络设置。

## 1. 扩展 Popup

通扩展图标（Popup）可即时访问代理设置。

- **一键切换配置文件**: 用于在直接连接、系统代理、代理服务器、PAC 和自动策略之间进行切换的选项。
- **快速导航**: 设置页面、请求监控页面和快速添加控制台的快捷方式。

---

## 2. 动态 Sidepanel (下载管理)

Sidepanel 为管理浏览器下载任务提供了专用界面。

### 解决下载失败

> [!IMPORTANT]
> 用户常遇到的一个痛点是下载任务因源域名缺少代理规则而失败或下载速度受限。Sidepanel 为此场景提供了解决方案。

- **集成历史**: 查看过去 7 天内的所有浏览器下载记录。
- **动态规则添加**: 点击下载条目旁的“添加规则”图标，可立即通过 Quick Add 为该域名添加代理。
- **即时重试**: 添加规则后，点击 **重新下载** 按钮，即可在新的代理策略下无缝重启任务。

### 更多操作

- **在文件夹中显示**: 直接访问本地文件位置。
- **复制链接**: 提取原始下载 URL 以供外部使用。
- **搜索与过滤**: 按文件名或域名快速定位特定任务。

---

## 3. 快速添加控制台 (Quick Add)

Quick Add 控制台支持在活动浏览会话期间向策略中添加新规则。

### 智能建议

- **失败域名**: 在控制台打开时自动识别被阻止或出错的请求。
- **通配符自动发现**: 自动建议根通配符模式（例如：建议 `.google.com` 而非仅 `api.google.com`）。

### 目标选项

- **当前策略**: 将规则永久添加到活动的自动策略中。
- **会话规则 (临时)**: 仅针对当前浏览会话添加 [临时规则](TEMPORARY_RULES.md)。

---

## 4. 右键菜单集成

Oasis 集成到浏览器的右击菜单中，以加速交互。

- **添加到 Oasis**: 右键点击页面、链接或选中的文本会显示“将域名添加到 Oasis”选项。
- **即时委派**: 选择此选项将打开 Quick Add 界面并预填入相关域名。

---

## 5. 状态指示器

扩展图标提供当前代理状态的即时反馈。

- **角标文字**: 显示活动配置文件的短标识符（例如：“AUTO”、“HK1”、“DIR”）。
- **角标颜色**: 与设置中为该配置文件分配的自定义颜色匹配。
- **视觉反馈**: 在切换配置文件或执行流量路由时，图标颜色会动态变化。

---

## 技术参考

- [数据管理](DATA_SYNC.md)
- [扩展配置](EXTENSION_CONFIG.md)
